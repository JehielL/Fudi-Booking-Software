@if (showSpinner) {
  <section class="dots-container">
  <div class="dot"></div>
  <div class="dot"></div>
  <div class="dot"></div>
  <div class="dot"></div>
  <div class="dot"></div>
</section>

}@else {
  <div class="container-fluid min-vh-100 p-0">
  <div class="row g-0 min-vh-100">
    <!-- Panel Izquierdo Chocolate -->
    <div class="col-lg-6 col-md-6 d-none d-md-flex columnaIZQ">
      <!-- Elementos decorativos flotantes de restaurantes -->
      <div class="floating-element element-1">
        <i class="bi bi-egg-fried"></i>
      </div>
      <div class="floating-element element-2">
        <i class="bi bi-cup-straw"></i>
      </div>
      <div class="floating-element element-3">
        <i class="bi bi-bell-fill"></i>
      </div>
      <div class="floating-element element-4">
        <i class="bi bi-shop"></i>
      </div>
      <div class="floating-circle circle-1"></div>
      <div class="floating-circle circle-2"></div>
      
      <div class="welcome-container">
        <div class="welcome-text">
          <h2 class="main-title">¡Únete a la familia <span class="highlight">Fudi</span>!</h2>
          <p class="subtitle">Tu pasaporte gastronómico comienza aquí</p>
        </div>

        <!-- Grid de beneficios con iconos grandes -->
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="bi bi-lightning-charge-fill"></i>
            </div>
            <h4>Reservas al instante</h4>
            <p>Sin esperas, sin llamadas</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="bi bi-gift-fill"></i>
            </div>
            <h4>Ofertas exclusivas</h4>
            <p>Descuentos especiales</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="bi bi-bookmark-heart-fill"></i>
            </div>
            <h4>Tus favoritos</h4>
            <p>Guarda lo que amas</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">
              <i class="bi bi-clock-history"></i>
            </div>
            <h4>Tu historial</h4>
            <p>Repite tus experiencias</p>
          </div>
        </div>

        <!-- Estadísticas -->
        <div class="stats-container">
          <div class="stat-item">
            <span class="stat-number">50+</span>
            <span class="stat-label">Restaurantes</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">K+</span>
            <span class="stat-label">Usuarios felices</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">1K+</span>
            <span class="stat-label">Reservas</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Formulario de Registro -->
    <div class="col-lg-6 col-md-6 col-12 d-flex align-items-center justify-content-center columnaDER">
      <div id="formdiv" class="text-center p-4 rounded shadow-sm">
        <form [formGroup]="registerUserForm" (ngSubmit)="save()">
          <h1 class="mb-4 register-title">Crear cuenta</h1>
          
          <!-- Nombres y Apellidos -->
          <div class="row mb-3">
            <div class="col-md-6 mb-3 mb-md-0">
              <div class="coolinput">
                <label for="firstName" class="text">Nombre</label>
                <input type="text" id="firstName" class="form-control input" placeholder="Tu nombre" formControlName="firstName" required>
                @if (registerUserForm.controls.firstName.touched && registerUserForm.controls.firstName.errors) {
                  <div class="error-message">Introduce tu nombre</div>
                }
              </div>
            </div>
            <div class="col-md-6">
              <div class="coolinput">
                <label for="lastName" class="text">Apellido</label>
                <input type="text" id="lastName" class="form-control input" placeholder="Tu apellido" formControlName="lastName">
              </div>
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3 coolinput">
            <label for="email" class="text">Correo electrónico</label>
            <input type="email" id="email" class="form-control input" placeholder="nombre@ejemplo.com" formControlName="email" required>
            @if (registerUserForm.controls.email.touched && registerUserForm.controls.email.errors) {
              <div class="error-message">
                @if (registerUserForm.controls.email.errors['required']) {
                  Se requiere un correo electrónico
                }
                @if (registerUserForm.controls.email.errors['email']) {
                  El formato del correo electrónico es incorrecto
                }
              </div>
            }
          </div>

          <!-- Teléfono -->
          <div class="mb-3 coolinput">
            <label for="phone" class="text">Teléfono</label>
            <input type="tel" id="phone" class="form-control input" placeholder="640365012" formControlName="phone" required>
            @if (registerUserForm.controls.phone.touched && registerUserForm.controls.phone.errors) {
              <div class="error-message">
                @if (registerUserForm.controls.phone.errors['required']) {
                  Introduce un teléfono
                }
                @if (registerUserForm.controls.phone.errors['pattern']) {
                  Formato de teléfono incorrecto. Debe tener 9 dígitos
                }
              </div>
            }
          </div>
          <!-- Fecha de Nacimiento -->
          <div class="mb-3 coolinput">
            <label for="birthdayDate" class="text">Fecha de nacimiento</label>
            <input type="date" id="birthdayDate" class="form-control input" formControlName="birthdayDate">
          </div>

          <!-- Contraseña -->
          <div class="mb-3 coolinput">
            <label for="password" class="text">Contraseña</label>
            <input type="password" id="password" class="form-control input" placeholder="Mínimo 8 caracteres" formControlName="password" required>
          </div>

          <!-- Confirmar Contraseña -->
          <div class="mb-3 coolinput">
            <label for="passwordConfirm" class="text">Confirmar contraseña</label>
            <input type="password" id="passwordConfirm" class="form-control input" placeholder="Repite tu contraseña" formControlName="passwordConfirm" required>
            @if (
              registerUserForm.controls.passwordConfirm.touched &&
              (
                registerUserForm.controls.password.errors ||
                registerUserForm.controls.passwordConfirm.errors ||
                registerUserForm.getError('confirmError')
              )
            ) {
              <div class="error-message">
                Las contraseñas deben coincidir y tener entre 8 y 30 caracteres
              </div>
            }
          </div>

          <button class="custom-btn w-100 mb-3" type="submit" [disabled]="registerUserForm.invalid">
            Crear cuenta
          </button>

          <div class="divider">
            <span>o continúa con</span>
          </div>

          <!-- Botón de Google -->
          <div #googleButtonRegister id="googleButtonRegister"></div>

          <div class="mt-4">
            <p class="login-link">¿Ya tienes una cuenta? <a class="text-primary" routerLink="/login">Inicia sesión</a></p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

}


